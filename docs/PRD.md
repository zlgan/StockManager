# 商品库存管理小程序需求文档

## 1. 概述
本系统为商品库存管理小程序，支持商品管理、出入库管理、库存统计、单据查询等功能，适用于中小型企业进行库存管理与统计。

---

## 2. 功能模块

### 2.1 底部导航栏

小程序底部有4个Tab Bar：
- 首页 - 主界面，提供出入库快捷操作和数据概览
- 单据 - 查询和管理所有出入库单据
- 统计 - 提供收益分析和库存盘点功能
- 我的 - 用户信息和系统管理功能

### 2.2 首页

- **出入库快捷操作**
  - 入库登记按钮 - 带有下箭头图标
  - 出库登记按钮 - 带有上箭头图标
  - 按钮样式醒目，便于快速操作

- **今日概览**
  - 今日入库统计：显示笔数和总金额
  - 今日出库统计：显示笔数和总金额
  - 使用卡片式布局，数据清晰可见

- **最近记录**
  - 分为入库记录和出库记录两部分
  - 每条记录显示：产品名称、操作类型、数量、金额和时间
  - 提供"查看全部"入口，跳转到单据查询页面
  - 点击单条记录可查看详情

### 2.3 入库登记

- **基本信息**
  - 单据号：自动生成，格式为"RK+日期+随机数"（如RK20230915001）
  - 入库类型：必填，下拉选择（采购入库、退货入库、调拨入库等）
  - 入库日期：必填，默认为当天，可修改
  - 供应商：下拉选择，可选填
  - 备注：文本区域，可选填

- **产品信息**
  - 支持添加多个产品
  - 每个产品包含：
    - 产品名称：下拉选择，必填，支持扫码录入
    - 入库数量：必填，默认为1
    - 入库单价：必填，显示货币符号
    - 小计金额：自动计算（数量×单价）
  - 可删除已添加的产品

- **合计信息**
  - 总数量：自动计算所有产品数量之和
  - 总金额：自动计算所有产品金额之和

- **操作按钮**
  - 提交按钮：保存入库单据
  - 取消按钮：放弃当前编辑，返回上一页

### 2.4 出库登记

- **基本信息**
  - 单据号：自动生成，格式为"CK+日期+随机数"（如CK20230915001）
  - 出库类型：必填，下拉选择（销售出库、产品缺陷出库、调拨出库等）
  - 出库日期：必填，默认为当天，可修改
  - 客户：下拉选择，可选填
  - 备注：文本区域，可选填

- **产品信息**
  - 支持添加多个产品
  - 每个产品包含：
    - 产品名称：下拉选择，必填，支持扫码录入
    - 出库数量：必填，默认为1
    - 出库单价：必填，显示货币符号
    - 小计金额：自动计算（数量×单价）
  - 可删除已添加的产品

- **合计信息**
  - 总数量：自动计算所有产品数量之和
  - 总金额：自动计算所有产品金额之和

- **操作按钮**
  - 提交按钮：保存出库单据
  - 取消按钮：放弃当前编辑，返回上一页

### 2.5 单据查询

- **搜索条件**
  - 日期范围：开始日期和结束日期
  - 产品信息：支持按产品名称、类别或编号搜索
  - 客户/供应商：下拉选择
  - 单据信息：单据类型、单据号、制单人
  - 搜索按钮：应用筛选条件

- **搜索结果**
  - 汇总信息：显示符合条件的笔数、总数量和总金额
  - 单据列表：
    - 单据号和类型
    - 产品名称和数量
    - 日期和时间
    - 操作人员
    - 金额
  - 支持点击查看单据详情

- **导出功能**
  - 导出按钮：将搜索结果导出为Excel文件
  - 导出成功提示

### 2.6 统计报表

页面顶部有两个标签页：
- **收益分析**
  - 年份选择器：筛选特定年份数据
  - 汇总卡片：
    - 利润总额
    - 入库总笔数、总数量、总金额
    - 出库总笔数、总数量、总金额
  - 月度明细：
    - 按月份展示收益数据
    - 每月入库和出库金额对比
    - 利润趋势图表

- **库存盘点**
  - 汇总信息：产品总数、库存总量、库存总额
  - 筛选功能：
    - 按产品类别筛选
    - 按产品名称或编码搜索
    - 库存预警筛选（显示低于预警值的产品）
  - 产品列表：
    - 产品图片
    - 产品名称和编码
    - 当前库存数量
    - 成本均价
    - 库存金额
  - 库存调整：点击产品可进行库存修改

### 2.7 我的页面

- **用户信息区域**
  - 用户头像
  - 用户名称/ID
  - 角色信息

- **管理功能列表**
  - 产品管理
    - 产品分类：支持增删改查
    - 产品信息：
      - 产品列表：显示图片、名称、类别、库存等信息
      - 新增产品：
        - 产品图片上传
        - 产品名称（必填）
        - 产品编号（支持扫码或手工录入）
        - 产品类别（下拉选择）
        - 产品单位（下拉选择）
        - 规格名称
        - 供应商（下拉选择）
        - 入库单价
        - 出库单价
        - 库存预警值
        - 启用状态开关
        - 备注
  - 客户管理：客户信息的增删改查
  - 供应商管理：供应商信息的增删改查
  - 出库类型管理：自定义出库类型
  - 入库类型管理：自定义入库类型
  - 系统设置：其他系统配置项

---

## 3. 界面和使用要求

### 3.1 界面设计
- 采用卡片式布局，信息分区明确
- 配色以蓝色为主色调，搭配白色和浅灰色背景

### 3.2 交互体验
- 表单验证即时反馈
- 操作结果有明确提示
- 加载过程显示加载动画
- 支持下拉刷新和上拉加载更多
- 长列表使用虚拟滚动优化性能

### 3.3 响应式设计
- 适配不同尺寸的手机屏幕
- 横竖屏自适应（主要优化竖屏体验）
